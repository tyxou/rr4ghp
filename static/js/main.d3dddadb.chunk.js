(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(77),c=n.n(o),l=n(20),i=n(21),s=n(209),d=(n(90),n(91),n(40)),u=n(4),m=n(5),f=n(7),p=n(6),h=n(8),N=n(80),E=n(39),v=n(10),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter(function(e){return e.folderid===t}).length},j=n(208),O=n(81),y=n(28);n(94);function _(e){e.tag,e.className,e.childrenm;var t=Object(y.a)(e,["tag","className","childrenm"]);return r.a.createElement(e.tag,Object(O.a)({className:["NavCircleButton",e.className].join(" ")},t),e.children)}_.defaultProps={tag:"a"};n(95);function g(e){return r.a.createElement("div",{className:"NoteListNav"},r.a.createElement("ul",{className:"NoteListNav__list"},e.folders.map(function(t){return r.a.createElement("li",{key:t.id},r.a.createElement(j.a,{className:"NoteListNav__folder-link",to:"/folder/".concat(t.id)},r.a.createElement("span",{className:"NoteListNav__num-notes"},b(e.notes,t.id)),t.title))})),r.a.createElement("div",{className:"NoteListNav__button-wrapper"},r.a.createElement(_,{tag:E.a,to:"/add-folder",type:"button",className:"NoteListNav__add-folder-button"},r.a.createElement(v.a,{icon:"plus"}),r.a.createElement("br",null),"Folder")))}g.defaultProps={folders:[]};n(97);function A(e){return r.a.createElement("div",{className:"NotePageNav"},r.a.createElement(_,{tag:"button",role:"link",onClick:function(){return e.history.goBack()},className:"NotePageNav__back-button"},r.a.createElement(v.a,{icon:"chevron-left"}),r.a.createElement("br",null),"Back"),e.folder&&r.a.createElement("h3",{className:"NotePageNav__folder-name"},e.folder.title))}A.defaultProps={history:{goBack:function(){}}};var k=n(79),P=(n(200),{API_ENDPOINT:"https://rocky-tundra-16532.herokuapp.com/api/"}),D=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(e){fetch("".concat(P.API_ENDPOINT,"note/").concat(n.props.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(P.API_KEY)}}).then(function(e){if(!e.ok)return Promise.reject();console.log(n.props.history),n.props.handleReturn(n.props.id),n.props.handleDeleteNote(n.props.id)}).catch(function(e){console.log({error:e})})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Note"},r.a.createElement("h2",{className:"Note__title"},r.a.createElement(E.a,{to:"/note/".concat(this.props.id)},this.props.name)),r.a.createElement("button",{className:"Note__delete",type:"button",onClick:function(){return e.handleDelete(e.props.id)}},r.a.createElement(v.a,{icon:"trash-alt"})," ","remove"),r.a.createElement("div",{className:"Note__dates"},r.a.createElement("div",{className:"Note__dates-modified"},"Modified"," ",r.a.createElement("span",{className:"Date"},Object(k.format)(this.props.modified,"Do MMM YYYY")))))}}]),t}(a.Component),I=(n(201),function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=function(t){e.props.history.push("/")};return r.a.createElement("section",{className:"NoteListMain"},r.a.createElement("ul",null,this.props.notes.map(function(n){return r.a.createElement("li",{key:n.id},r.a.createElement(D,{id:n.id,name:n.title,modified:n.modified,handleDeleteNote:e.props.handleDeleteNote,handleReturn:t}))})),r.a.createElement("div",{className:"NoteListMain__button-container"},r.a.createElement(_,{tag:E.a,to:"/add-note",type:"button",className:"NoteListMain__add-note-button"},r.a.createElement(v.a,{icon:"plus"}),r.a.createElement("br",null),"Note")))}}]),t}(a.Component));I.defaultProps={notes:[]};n(202);var w=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"NotePageMain"},r.a.createElement(D,{id:this.props.note.id,name:this.props.note.title,modified:this.props.note.modified,content:this.props.note.content,handleDeleteNote:this.props.handleDeleteNote,handleReturn:function(t){e.props.history.push("/")}}),r.a.createElement("div",{className:"NotePageMain__content"},this.props.note.content.split(/\n \r|\n/).map(function(e,t){return r.a.createElement("p",{key:t},e)})))}}]),t}(a.Component);w.defaultProps={note:{content:""}};n(203);function F(e){var t=e.className,n=Object(y.a)(e,["className"]);return r.a.createElement("form",Object.assign({className:["Noteful-form",t].join(" "),action:"#"},n))}n(204);var C=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleAddFolder=function(e){e.preventDefault();var t={title:e.currentTarget.folder.value};fetch("".concat(P.API_ENDPOINT,"folder"),{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(P.API_KEY)},body:JSON.stringify(t)}).then(function(e){if(!e.ok)throw new Error(e.status);return e.json()}).then(function(e){n.props.handleAddFolder(e),n.props.history.push("/folder/".concat(e.id))}).catch(function(e){console.log({error:e})}),console.log(t)},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"AddFolder"},r.a.createElement("h2",null,"Create a folder"),r.a.createElement(F,{onSubmit:this.handleAddFolder},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"folder-name-input"},"Name"),r.a.createElement("input",{type:"text",id:"folder-name-input",name:"folder"})),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{type:"submit"},"Add folder"))))}}]),t}(a.Component),M=(n(205),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleAddNote=function(e){e.preventDefault();var t={title:e.target.title.value,content:e.target.content.value,folderid:e.target.folderid.value};fetch("".concat(P.API_ENDPOINT,"note"),{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(P.API_KEY)},body:JSON.stringify(t)}).then(function(e){if(!e.ok)throw new Error(e.status);return e.json()}).then(function(e){n.props.handleAddNote(e),n.props.history.push("/note/".concat(e.id))}).catch(function(e){console.log({error:e})})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.folders;return r.a.createElement("section",{className:"AddNote"},r.a.createElement("h2",null,"Create a note"),r.a.createElement(F,{onSubmit:function(t){return e.handleAddNote(t)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"note-name-input"},"Name"),r.a.createElement("input",{type:"text",id:"note-name-input",name:"title"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"note-content-input"},"Content"),r.a.createElement("textarea",{id:"note-content-input",name:"content"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"note-folder-select"},"Folder"),r.a.createElement("select",{id:"note-folder-select",name:"folderid"},r.a.createElement("option",{value:null},"..."),t.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.title)}))),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{type:"submit"},"Add note"))))}}]),t}(a.Component));M.defaultProps={folders:[]};n(206);var S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={notes:[],folders:[]},n.setNoteful=function(e){n.setState({notes:e.notes,folders:e.folders})},n.handleDeleteNote=function(e){n.setState({notes:n.state.notes.filter(function(t){return t.id!==e})})},n.handleAddNote=function(e){n.setState({notes:[].concat(Object(d.a)(n.state.notes),[e])})},n.handleAddFolder=function(e){n.setState({folders:[].concat(Object(d.a)(n.state.folders),[e])})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(P.API_ENDPOINT,{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(P.API_KEY)}}).then(function(e){if(!e.ok)throw new Error(e.status);return e.json()}).then(this.setNoteful).catch(function(t){return e.setState({error:t})})}},{key:"renderNavRoutes",value:function(){var e=this.state,t=e.notes,n=e.folders;return r.a.createElement(r.a.Fragment,null,["/","/folder/:folderId"].map(function(e){return r.a.createElement(N.a,{exact:!0,key:e,path:e,render:function(e){return r.a.createElement(g,Object.assign({folders:n,notes:t},e))}})}),r.a.createElement(N.a,{path:"/note/:noteId",component:A}),r.a.createElement(N.a,{path:"/add-folder",component:A}),r.a.createElement(N.a,{path:"/add-note",component:A}))}},{key:"renderMainRoutes",value:function(){var e=this,t=this.state,n=t.notes,a=t.folders;return r.a.createElement(r.a.Fragment,null,["/","/folder/:folderId"].map(function(t){return r.a.createElement(N.a,{exact:!0,key:t,path:t,render:function(t){var a=t.match.params.folderId;return r.a.createElement(I,Object.assign({},t,{handleDeleteNote:e.handleDeleteNote,notes:a?n.filter(function(e){return e.folderid===parseInt(a,10)}):n}))}})}),r.a.createElement(N.a,{path:"/note/:noteId",render:function(t){var a=t.match.params.noteId;return r.a.createElement(w,Object.assign({},t,{note:n.filter(function(e){return e.id===parseInt(a,10)})[0],handleDeleteNote:e.handleDeleteNote}))}}),r.a.createElement(N.a,{path:"/add-folder",render:function(t){return r.a.createElement(C,Object.assign({},t,{handleAddFolder:e.handleAddFolder}))}}),r.a.createElement(N.a,{path:"/add-note",render:function(t){return r.a.createElement(M,Object.assign({},t,{folders:a,handleAddNote:e.handleAddNote}))}}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"App__nav"},this.renderNavRoutes()),r.a.createElement("header",{className:"App__header"},r.a.createElement("h1",null,r.a.createElement(E.a,{to:""}," Noteful ")," ",r.a.createElement(v.a,{icon:"check-double"}))),r.a.createElement("main",{className:"App__main"},this.renderMainRoutes()))}}]),t}(a.Component);l.b.add(i.c,i.b,i.d,i.a),c.a.render(r.a.createElement(s.a,{basename:"/rr4ghp"},r.a.createElement(S,null)),document.getElementById("root"))},82:function(e,t,n){e.exports=n(207)},91:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},97:function(e,t,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.d3dddadb.chunk.js.map